<?xml version="1.0" encoding="UTF-8"?>
<root BTCPP_format="4" main_tree_to_execute="Navline">
    <BehaviorTree ID="Navline">
        <Sequence name="NavlineSequence">
            <!-- 设置航线参数 -->
            <SetLineParameters ptsParam="wayPoints" spdParam="spd" lpsParam="loops" disParam="arvDis" />

            <!-- 进入OFFBOARD模式 -->
            <FlightModeControl mode="9" />

            <!-- 执行航线飞行 -->
            <NavlineAction wayPoints="{wayPoints}" spd="{spd}" loops="{loops}" arvDis="{arvDis}" />

            <!-- 检查航线完成条件 -->
            <ReactiveFallback>
                <CheckQuitLineLoop />
                <CheckArriveDestination />
            </ReactiveFallback>
        </Sequence>
    </BehaviorTree>
</root>